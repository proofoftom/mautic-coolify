# Mautic Custom Docker Configuration
# Copy this file to .env and customize for your deployment
# In Coolify, set these variables in the Service Stack environment settings

# ============================================
# Mautic Version & Build Configuration
# ============================================

# Mautic version to build (use 7.0.0-rc2 for latest stable, or dev-<branch> for development)
MAUTIC_VERSION=7.0.0-rc2

# Custom image name (used by Coolify for caching)
MAUTIC_IMAGE=mautic-custom:7.0.0-rc2

# For building from your own fork, uncomment and set:
# MAUTIC_REPO=https://github.com/proofoftom/mautic.git

# ============================================
# Database Configuration (Coolify Auto-generates)
# ============================================

# These are typically auto-generated by Coolify with SERVICE_* prefixes
# MYSQL_DATABASE=mautic
# SERVICE_USER_MYSQL=mautic
# SERVICE_PASSWORD_64_MYSQL=<auto-generated>
# SERVICE_PASSWORD_64_MYSQLROOT=<auto-generated>

# ============================================
# RabbitMQ Configuration
# ============================================

RABBITMQ_DEFAULT_VHOST=mautic
RABBITMQ_USER=mautic
RABBITMQ_PASSWORD=your-secure-rabbitmq-password

# ============================================
# Mautic Application Settings
# ============================================

# Auto-run migrations on container start (recommended for first deploy)
MAUTIC_RUN_MIGRATIONS=true

# Load demo/test data (set to false for production!)
MAUTIC_LOAD_TEST_DATA=false

# ============================================
# Worker Configuration
# ============================================

# Number of workers for processing emails
MAUTIC_EMAIL_WORKERS=2

# Number of workers for processing tracking hits
MAUTIC_HIT_WORKERS=2

# Number of workers for processing failed messages
MAUTIC_FAILED_WORKERS=1

# ============================================
# PHP Configuration
# ============================================

PHP_MEMORY_LIMIT=512M
PHP_UPLOAD_MAX_FILESIZE=64M
PHP_POST_MAX_FILESIZE=64M
PHP_MAX_EXECUTION_TIME=300
PHP_TIMEZONE=UTC

# ============================================
# Coolify-Specific Variables
# ============================================

# These are typically set automatically by Coolify:
# SERVICE_FQDN_MAUTIC_80 - Your domain (e.g., https://mautic.yourdomain.com)
# SERVICE_URL_MAUTIC_80 - Service URL

# ============================================
# Optional: Email Configuration
# ============================================

# MAUTIC_MAILER_DSN=smtp://user:pass@smtp.example.com:587
# Or for services like SendGrid, Mailgun, etc:
# MAUTIC_MAILER_DSN=sendgrid+api://KEY@default

# ============================================
# Optional: Advanced Settings
# ============================================

# Secret key for encryption (auto-generated if not set)
# MAUTIC_SECRET_KEY=your-64-char-hex-secret

# Debug mode (never enable in production)
# DEBUG=false
